# system_asuppg

## Описание
Данный проект является аналогом ИС на базе платформы 1С:Предприятие для предприятия по производству газоблоков.

Данный проект содержит:

### Файлы .c:
1. main.c содержит основные стуктуры и функции для работы десктопного приложения
2. auth.c содержит функцию для проверки авторизации
3. common_funcs.c содержит функции, которые применяются в файлах для работы как десктопного, так и консольного приложения
4. menu.c содержит функции для меню консольного приложения
5. proc_orders.c, proc_staff.c и proc_warehouse.c содержат функции для работы консольного приложения (для обработки данных о заказах, персонале и метериалах на складе соответственно)
6. test_funcs.c и tests.c проводят тесты для проверки работы функций для проверки авторизации и подсчета оклада сотрудника

### Файлы .h:
1. lib_main.h подключает все функции, необходимые для работы приложения в целом
2. lib_material.h, lib_order.h и lib_staff.h содержат структуры для материалов, заказов и персонала соответственно, подключает функции для работы с соответствующими подсистемами

### Файлы в директории report:
Данная часть (создание отчетов) работает не идеально, реализована для десктопного приложения
1. material.txt - для хранения информации о добавлении на склад или удалении со склада материалов
2. orders.txt - для хранения информации об оформлении или удалении заказов
3. orders.txt - для хранения информации об оформлении или увольнении персонала

### Файлы в директории files:
Данная часть реализована для консольного приложения - аналог бд для десктопного приложения. Планируется реализовать подключение к той же БД, что и у декстопной версии
1. orders.txt - для хранения информации о заказах на готовую продукцию
2. staff.txt - для хранения информации о сотрудниках предприятия
3. warehouse.txt - для хранения информации о материалах на складе

### asuppg.db:
База данных SQLite для хранения информации, с которой работает десктопная версия приложения. К этой БД в дальнейшем подключится и консольная часть

### .clang-format:
Для форматирования кода в едином стиле, использовать команду:

clang-format -i *.c *.h

### Makefile:
Для сборки проекта в одно целое

Команды для сборки и запуска проекта:
1. make (rebuild для пересборки)
2. ./asuppg

Команды для выполнения тестов:
1. make test
2. ./asuppg

Для удаления всех исполняемых и объектных файлов использовать команду:
1. make clean

## Дальнейшая реализация:
1. починить добавление заказа (работает, но с ошибкой “** stack smashing detected ***: terminated Aborted”)
2. кнопка выхода из учетной записи на каждом окне (тогда убрать “Завершить” при выборе действия)
3. склад - удаление определенного количества материалов (ошибка при его превышении, при равном количестве удаляем строку, при меньшем - вычитаем введенное количество из того, что есть на складе)
4. настроить валидацию (проверку) данных при вводе, например, чтобы не было цифр в имени, букв в паспорте, инн и тд
5. настроить возможное количество символов (например, в паспорте ровно 10 цифр)
6. исправить ввод имени через пробел (особенности языка си - при пробеле принимает как следующую строку)
7. починить добавление id - сделать автоинкремент на примере сотрудников
8. починить добавление материалов (сейчас вместо названия выводит параметр, вместо параметров рандомные числа, а названия нет)
9. для того, чтобы было одно окно выбора действия (а не для каждой подсистемы), надо создать структуру Parameters, которая будет хранить int subsystem, а потом будем сравнивать - если 1, запускаем окна для персонала, 2 - для заказов, 3 - для склада
10. настроить внешний вид (расположение, цвета)
11. сделать одним окном
12. настроить БД для работы с консольным приложением вместо файлов files